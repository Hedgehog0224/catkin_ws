# Разработка Образовательного Робота

Вся конструкция робота создавалась под одно главное условие - в качестве движителя будут применяться Omni-колёса (d=82 мм). Исходя из этого, единственная возможная форма корпуса представляла из себя восьмиугольник (не равносторонний - по сути, квадрат с усечёнными углами).\
Именно параллельно сторонам, расположенных у усечённых углов, расположены колёса. Вращение колёс осуществляют двигатели постоянного тока JGB37-520 (скорость вращения - 178 об/мин).\
Питание от аккамуляторов, управлление двигателями при помощи драйверов моторов L298N, содержащих в себе H-мосты.

Для управления H-мостами применялся одноплатный компьютер Raspberry Pi 3, на которой распологалась программа управления. Код программы на начальном этапе позволял роботу двигаться только в восьми направлениях, без возможности разваорота. Управление было дистанционным, через джойстик.\
На данном этапе была выявлена проблема нехватки тока для питания H-мостов (линия питания шла от аккамуляторов на МК, а оттуда на мосты). Для решения этой проблемы было решено применить Arduino для управления драйверами посредством ШИМ-сигнала. Но, результат был тот же - питания всё так же не хватало.\

После, были задействованы 4 пина с Arduino и 8 пинов с Raspberry. Ничего не работало. Для грамотного управления был добавлен ШИИМ-контроллер, с применением 12 каналов из 16, после чего аппаратная часть заработала. Как только в наличии появилась более новая версия Raspberry Pi - четвёртая, она пришла на замену тройки.

Увеличение количества электронных компонентов потребовало увеличение площади для их размещения. Для этого конструкция стала представлять из себя "бутерброд" из двух восьмиугольных пластин. Силовая часть спрятана внутри "бутерброда", все компоненты для управления поверх верхней пластины. Также, были смонтированы и подключены лидар и дальномер.

Следующим была установка переменного стапбилизатора на 6В в силовую линию для питания ШИМ-контроллера. Последний управляет сервоприводами по 6-ти каналам.

Шестиосевой манипулятор монтировался поверх "бутерброда". Выявлена проблема высокого уровня вибраций. Для её решения были сконструированы, напечатаны и установлены силиконове демпферы. Изменения также коснулись конструкции верхней платформы "бутерброда", предназначенные для переноса центра масс ниже.

С самого начала для работы Образовательного Робота задумовалось применение фреймворка ROS (в дальнейшем, полученные компетенции будут применяться для управления промышленными роботами). Для этого был собран пакет robot_pkg с базовыми программамми для работы робота (например, реализация приёма данных с датчиков и их отправка с Raspberry на ШИМ-контроллер - 10 каналов для моторов, 6 каналов для сервоприводов). Увеличение количества компонентов потребовало дополнение существующих программ, их модернизация.

Кроме этого, в один момент электронных компонентов стало слишком много, возникла необходимость сосредоточить всё на единой плате, объединяющей силовую и управляющую часть. За основу была взята плата STM32F407VGT6 (Discovery Board).

Основной функционал платы:
- полученных сигналов от Raspberry Pi по UART между переферийными устройствами;
- распределение сигналов;

Особенность платы - наличие аудио микросхемы с выводом аудио через динамик или вводом через микрофон.